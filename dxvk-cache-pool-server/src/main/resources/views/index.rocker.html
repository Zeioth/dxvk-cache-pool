@import java.util.*
@import com.ignorelist.kassandra.dxvk.cache.pool.common.Util
@import com.ignorelist.kassandra.dxvk.cache.pool.common.model.*
@import com.google.common.base.Strings

@args (Set<DxvkStateCacheInfo> entries, int pages, int page, String search)
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>DXVK cache pool</title>
		<style>
.pagination {
    display: inline-block;
}

.pagination a {
    color: black;
    float: left;
    padding: 4px 8px;
    text-decoration: none;
    border: 1px solid #ddd;
}

.pagination a.active {
    background-color: #aaaaff;
    color: white;
    border: 1px solid #aaaaff;
}

.pagination a:hover:not(.active) {background-color: #ddd;}

.pagination a:first-child {
    border-top-left-radius: 4px;
    border-bottom-left-radius: 4px;
}

.pagination a:last-child {
    border-top-right-radius: 4px;
    border-bottom-right-radius: 4px;
}
		</style>
	</head>
	<body>
		<h1>DXVK cache pool</h1>
		<h2>Download</h2>
		<div>Please use the <a href="https://github.com/rcpoison/dxvk-cache-pool/">client</a> instead </div>
		<div>
			<form action="/index.html" method="get">
				<input type="text" name="search" value="@?search">
				<input type="submit" value="Search">
			</form>
		</div>
		@if (pages>1) {
		<div class="pagination">
			@for (int p=0; p < pages; ++p) {

				@if (p==page) {
				<a class="active" href="#">@p</a>
				} else {
				<a href="/index.html?search=@?search&page=@p">@p</a>
				}
			}
		</div>
		}
		@if (!entries.isEmpty()) {
		<ul>
			@for (entry : entries) {
			<li>
				@entry.getBaseName() (@entry.getEntries().size()) 
				<a href="d/@entry.getBaseName()@Util.DXVK_CACHE_EXT">@entry.getLastModifiedInstant()</a>
			</li>
			}
		</ul>
		} else {
		<div>Pool is empty.</div>
		}
	</body>
</html>
